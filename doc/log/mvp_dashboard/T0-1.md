# T0-1: Fix emotionalunit.py crash on PDP accept

**Status:** Fix applied, tests pass
**Date:** 2026-02-20

## Problem
`EmotionalUnit.update()` crashes with `AttributeError: 'NoneType' has no attribute 'id'` when `self._layer` is `None`. The `else` branch at line 34 accessed `self._layer.id` without checking for `None`.

## Fix
Changed `else:` to `elif self._layer:` in `emotionalunit.py:33`. When `_layer` is `None`, there's no layer ID to remove from person layers, so the branch should be skipped entirely.

## File Changed
- `familydiagram/pkdiagram/scene/emotionalunit.py:33`

## Verification
- All 18 `test_childof.py` tests pass
- All 7 `test_pdp_2_scene.py` tests pass (including `test_accept_birth_event_creates_child_with_parents`)
